{% extends 'mainapp/base.html' %}
{% block title %}{{ property.title }}{% endblock %}

{% block content %}
<!-- Property Info -->
<div style="max-width:800px; margin:2rem auto; padding:2rem; background:#f8f8f8; border-radius:12px; box-shadow:0 8px 20px rgba(0,0,0,0.1); text-align:center;">
  <h2 style="color:#8B4513;">{{ property.title }}</h2>
  <img src="{{ property.image_main.url }}" style="width:50%; border-radius:8px; margin-bottom:1rem;" alt="{{ property.title }}" />
  <p style="margin-bottom:1rem;">{{ property.description }}</p>
  <p style="margin-bottom:1.5rem;">Price: ${{ property.price }}</p>

  <!-- Add to Favorites Form -->
  <form action="{% url 'add_to_favorites' property.pk %}" method="post" style="display:inline-block; margin-right:0.5rem;">
    {% csrf_token %}
    <button type="submit" style="padding:0.7rem 1.5rem; background:#8B4513; color:white; border:none; border-radius:8px; cursor:pointer; font-weight:bold;">
      Add to Favorites
    </button>
  </form>
</div>

<!-- Report Issue Section -->
<div style="max-width:800px; margin:2rem auto; padding:2rem; background:#fff5f5; border-radius:12px; box-shadow:0 8px 20px rgba(0,0,0,0.1); text-align:center;">
  <h3 style="color:#ff4c4c; margin-bottom:1rem;">Report this property</h3>
  <form action="{% url 'report_issue' property.pk %}" method="post" style="text-align:left;">
    {% csrf_token %}
    <textarea name="reason" placeholder="Why are you reporting this property?" required
              style="width:100%; padding:0.7rem; min-height:120px; border-radius:8px; border:1px solid #ccc; font-size:1rem; margin-bottom:1rem;"></textarea>
    <button type="submit"
            style="padding:0.7rem 1.5rem; background:#ff4c4c; color:white; border:none; border-radius:8px; cursor:pointer; font-weight:bold;">Submit Report</button>
  </form>
</div>

<!-- Message Seller Section -->
<div style="max-width:800px; margin:2rem auto; padding:2rem; background:#ffffff; border-radius:12px; box-shadow:0 8px 20px rgba(0,0,0,0.1); text-align:center;">
  <h3 style="color:#8B4513; margin-bottom:1rem;">Contact Seller</h3>
  <form action="{% url 'send_message' property.pk %}" method="post" style="text-align:left;">
    {% csrf_token %}
    <textarea name="message" placeholder="Write your message here..." required
              style="width:100%; padding:0.7rem; min-height:120px; border-radius:8px; border:1px solid #ccc; font-size:1rem; margin-bottom:1rem;"></textarea>
    <button type="submit"
            style="padding:0.7rem 1.5rem; background:#8B4513; color:white; border:none; border-radius:8px; cursor:pointer; font-weight:bold;">Send Message</button>
  </form>
</div>
{% endblock %}
